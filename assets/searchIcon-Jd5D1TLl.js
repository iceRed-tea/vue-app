import{d as M,y as V,I as b,J as B,r as m,ax as L,o as h,c as _,C as r,e as x,x as u,p as N,ap as E,w as R,F as T,N as $,O as F,z as U,U as W,A as q,B as A,V as J,_ as O}from"./index-7zrOSOGY.js";import{E as P}from"./el-switch-4T_s_xfh.js";const j="data:image/svg+xml,%3csvg%20t='1703562729483'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='9908'%20width='200'%20height='200'%3e%3cpath%20d='M820.1472%20896a52.0704%2052.0704%200%200%200%2037.0688-15.2576l125.696-125.184c20.5312-20.48%2020.6592-53.76%200.3072-74.3936a52.1984%2052.1984%200%200%200-74.0352-0.3072L870.4%20719.4624V179.2a51.2%2051.2%200%200%200-47.36-51.072L819.2%20128a51.2%2051.2%200%200%200-51.2%2051.2v665.6a51.2%2051.2%200%200%200%2051.712%2051.2zM640%20268.8a51.2%2051.2%200%201%200%200-102.4H76.8a51.2%2051.2%200%201%200%200%20102.4z%20m0%20307.2a51.2%2051.2%200%201%200%200-102.4H76.8a51.2%2051.2%200%201%200%200%20102.4z%20m0%20307.2a51.2%2051.2%200%201%200%200-102.4H76.8a51.2%2051.2%200%201%200%200%20102.4z'%20p-id='9909'%20fill='%23fff'%3e%3c/path%3e%3c/svg%3e",I=v=>(q("data-v-5f24801b"),v=v(),A(),v),G={class:"vueapp-searchIcon"},K={class:"vueapp-search-control"},Q=I(()=>r("span",{class:"line"},"|",-1)),X={class:"vueapp-searchIcon-content"},Y=["onClick"],Z=I(()=>r("img",{src:J,alt:""},null,-1)),ee=["innerHTML"],ae=M({__name:"searchIcon",setup(v){const S=V(),C=b(),{allData:g,optionData:n,activeData:a,isRouter:k,searchMask:w,searchData:p,formData:y}=B(C),f=m(!0),d=m(!1);function z(e){const t=document.querySelector("body"),l=a.value.filter(c=>c.meta[n.value.title]===e.meta[n.value.title]);let o=NaN;a.value.length>0&&(o=a.value.findIndex(c=>c.active));const s=a.value.findIndex(c=>c.meta[n.value.title]===e.meta[n.value.title]);if(l.length>0){if(o===-1){a.value[s].active=!0,a.value[s].alive=!0;return}if(l[0].active)return;if(!l[0].active&&l[0].alive){a.value[o].active=!1,a.value[s].active=!0;return}if(!l[0].active&&!l[0].alive){a.value[o].active=!1,a.value[s].active=!0,a.value[s].alive=!0;return}}else o>=0&&(a.value[o].active=!1),a.value.push({active:!0,alive:!0,full:!1,refresh:!0,disabled:!1,isChange:!1,loading:!0,x:t.offsetWidth*.1,y:t.offsetHeight*.1,w:t.offsetWidth*.8,h:t.offsetHeight*.8,...e});k.value&&S.push("/"),a.value.length>y.value.MaxTask&&a.value.splice(0,1),w.value&&(w.value=!1)}const i=m();i.value=g.value,L(p,e=>{i.value=g.value.filter(t=>t.meta[n.value.title].includes(e))});function D(e){return f.value?e.replace(p.value,`<strong style="color:#7811f0">${p.value}</strong>`):e}function H(){if(d.value=!d.value,d.value){i.value=i.value.sort((e,t)=>e.name>t.name?1:t.name>e.name?-1:0);return}i.value=i.value.sort((e,t)=>e.name<t.name?1:t.name<e.name?-1:0)}return(e,t)=>{const l=P,o=W;return h(),_("div",G,[r("div",K,[x(l,{modelValue:u(f),"onUpdate:modelValue":t[0]||(t[0]=s=>N(f)?f.value=s:null),"inline-prompt":"","active-text":"亮","inactive-text":"默"},null,8,["modelValue"]),Q,r("img",{src:j,class:E(u(d)?"Swap":""),onClick:H},null,2)]),x(o,{height:"100%"},{default:R(()=>[r("div",X,[(h(!0),_(T,null,U(u(i),(s,c)=>(h(),_("div",{class:"vueapp-content_outside-child",key:c},[r("div",{class:"vueapp-content-item",style:$({background:s.meta[u(n).color]}),onClick:te=>z(s)},[F(e.$slots,"icon",{data:s.meta},()=>[Z],!0)],12,Y),r("span",{class:"vueapp-content-item_title",innerHTML:D(s.meta[u(n).title])},null,8,ee)]))),128))])]),_:3})])}}}),oe=O(ae,[["__scopeId","data-v-5f24801b"]]);export{oe as default};
