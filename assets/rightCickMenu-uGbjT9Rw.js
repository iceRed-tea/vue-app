import{d as J,y as A,I as B,J as L,b8 as q,a as z,ao as F,n as G,o as c,c as v,C as H,F as O,z as V,ap as U,L as W,G as X,x as h,_ as Y}from"./index-7zrOSOGY.js";const $={class:"vueapp-menus"},j=["onClick"],K=J({__name:"rightCickMenu",emits:["deleteAside"],setup(Q,{emit:k}){const w=A(),b=k,l=B(),{isEdit:m,isrightMenu:y,rightMenu:t,mask:_,current:M,searchMask:P,asideData:n,appData:r,openIcon:p,asideEidt:x,asideValue:i,drawer:C,deleteTask:I,editMenu:f,openItemPage:N,editAsideIcon:D,formData:E}=L(l);let g=null;q(()=>{d.home[0].disable=i.value==="all"});const d=z({home:[{name:"add",title:"添加图标"},{name:"edit",title:"编辑主页"},{name:"search",title:"搜索菜单"},{name:"background",title:"编辑壁纸"}],item:[{name:"currentPage",title:"当前页打开"},{name:"newPage",title:"新标签页打开"}],children:[{name:"currentPage",disable:!0,title:"当前页打开"},{name:"newPage",disable:!0,title:"新标签页打开"}],task:[{name:"currentPage",disable:!0,title:"打开"},{name:"newPage",title:"新标签页打开"},{name:"close",title:"关闭"}],aside:[{name:"asideEdit",title:"编辑"},{name:"asideClose",title:"删除"}]}),S=F(()=>(G(()=>{const e=document.querySelector(".vueapp-menus");if(e.style.display!=="none"){var s=l.updataRightMenu.event.clientX,a=l.updataRightMenu.event.clientY,u=window.innerWidth,o=window.innerHeight;e.style.left=Math.min(u-120,s)+"px",e.style.top=Math.min(o-150,a)+"px",(t.value.type==="item"||t.value.type==="children"||t.value.type==="task")&&(e.style.top=Math.min(o-50,a)-e.offsetHeight/2+"px",e.style.left=Math.min(u-150,s)+20+"px")}}),t.value.type==="task"&&(t.value.data.active||(d.task[0].disable=!1)),l.updataRightMenu));function T(e){if(y.value=!1,!e.disable)switch(e.name){case"add":C.value=!0;break;case"edit":m.value=!0,f.value={isEdit:!0,editType:"iconGap"};break;case"background":f.value={isEdit:!0,editType:"background"},m.value=!0;break;case"search":P.value=!0;break;case"currentPage":N.value(t.value.data);break;case"newPage":R();break;case"close":I.value(t.value.data.current);break;case"asideEdit":x.value=!0,p.value=!0,D.value();break;case"asideClose":clearTimeout(g);const s=n.value.findIndex(a=>a.value===t.value.data.value);s===0&&n.value.length===1?i.value="all":i.value===n.value[s].value&&(i.value=n.value[s-1].value),p.value=!1,g=setTimeout(()=>{delete r.value[t.value.data.value],n.value.splice(s,1),b("deleteAside",n.value,r.value),E.value.asideLast&&(window.sessionStorage.setItem("asideData",JSON.stringify(n.value)),window.sessionStorage.setItem("appData",JSON.stringify(r.value)))},310);break}}function R(){_.value=!1,M.value=NaN;let e=w.resolve({name:t.value.data.name,query:{newPage:"true"}});const s=l.updataNewPage.findIndex(a=>a.name===e.name);s>=0?l.updataNewPage[s].focus():l.updataNewPage.push(window.open(e.href,t.value.data.name))}return(e,s)=>(c(),v("div",$,[H("ul",null,[(c(!0),v(O,null,V(h(d)[h(S).type],(a,u)=>(c(),v("li",{key:u,class:U(a.disable?"disable":""),onClick:W(o=>T(a),["stop"])},X(a.title?a.title:a),11,j))),128))])]))}}),ee=Y(K,[["__scopeId","data-v-90285ca1"]]);export{ee as default};
